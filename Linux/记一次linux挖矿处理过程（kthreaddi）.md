# è®°ä¸€æ¬¡linuxæŒ–çŸ¿å¤„ç†è¿‡ç¨‹ï¼ˆkthreaddkï¼‰

ä¸€å¤§æ—©å°±æ”¶åˆ°äº†é˜¿é‡Œäº‘çš„çŸ­ä¿¡ï¼Œè¯´æœåŠ¡å™¨å¾ˆå±é™©

![image-20220331084553479](https://cdn.fengxianhub.top/resources-master/202203310845563.png)

æ‰“å¼€æ§åˆ¶å°ä¸€çœ‹ï¼Œæœ‰ä¸ªè¿›ç¨‹å ç”¨äº†å¾ˆå¤§ä¸€éƒ¨åˆ†CPUèµ„æº

![image-20220331084815320](https://cdn.fengxianhub.top/resources-master/202203310848497.png)

ä¸Šç™¾åº¦ä¸ŠæŸ¥äº†æŸ¥è¯´è¿™ä¸ªä¸œè¥¿å«`é—¨ç½—å¸æŒ–çŸ¿æœ¨é©¬`,ä¼ªè£…çš„å®ç°æ˜¯å¤ªå¥½äº†å’Œç³»ç»Ÿä¸­çš„æ­£å¸¸è¿›ç¨‹`kthreadd`å¤ªåƒäº†

å…ˆä¸æ€¥ç€killæ‰ï¼Œå…ˆæŒ‰ç…§ç½‘ä¸Šçš„åšæ³•ä½¿ç”¨å‘½ä»¤`crontab -l`æŸ¥çœ‹ä¸€ä¸‹å®šæ—¶ä»»åŠ¡ï¼Œå†ç”¨`ll /proc/pid(å‚æ•°)/exe`çœ‹ä¸€ä¸‹å…¶è¿›ç¨‹ç›®å½•

![image-20220331085901873](https://cdn.fengxianhub.top/resources-master/202203310859948.png)

æˆ‘åœ¨æƒ³`xxx-job`æ˜¯æˆ‘ç”¨æ¥åšåˆ†å¸ƒå¼è°ƒåº¦ä»»åŠ¡çš„ï¼Œéš¾é“è¿™ç©æ„å‡ºäº†ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ

å»çœ‹äº†ä¸€ä¸‹è·‘çš„ç¨‹åºçš„é…ç½®

![image-20220331090122921](https://cdn.fengxianhub.top/resources-master/202203310901981.png)

æ€ä¹ˆä¼šå‡ºç°åœ¨æˆ‘æ—¥å¿—çš„ä¿å­˜è·¯å¾„å‘¢ï¼Œå¾ˆå¥‡æ€ªï¼Œå»è¿›ç¨‹ç›®å½•ä¸‹çœ‹ä¸€ä¸‹

![image-20220331091846459](https://cdn.fengxianhub.top/resources-master/202203310918596.png)

å‘ç°å‹æ ¹å°±æ²¡é‚£ç©æ„

ä¸ç®¡äº†ï¼Œå…ˆé²¨æ‰è¿™ä¸ªè¿›ç¨‹å†è¯´

![image-20220331092011504](https://cdn.fengxianhub.top/resources-master/202203310920651.png)

é²¨æ‰åæœåŠ¡å™¨å°±æ­£å¸¸äº†ï¼Œä½†æ˜¯è¿‡äº†å‡ ç§’é’Ÿè¿™ä¸ªè¿›ç¨‹åˆè·‘èµ·æ¥äº†ï¼Œå‘ç°æœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡

![image-20220331092241561](https://cdn.fengxianhub.top/resources-master/202203310922652.png)

è¿™æ¬¡å…ˆæ¸…ç†æ‰å®šæ—¶ä»»åŠ¡å†é²¨æ‰è¿™ä¸ªè¿›ç¨‹

![image-20220331092628427](https://cdn.fengxianhub.top/resources-master/202203310926510.png)

ä½†æ˜¯è¿‡äº†å‡ ç§’é’Ÿå®ƒåˆå›æ¥äº†ï¼ŒğŸ˜‚ç»äº†ï¼Œè¿™æ²¡å®Œäº†

ç´¢æ€§æŠŠè¯¥è¿›ç¨‹å­˜åœ¨ç›®å½•éƒ½åˆ æ‰ï¼ˆæˆ‘æ‰¾ä¸åˆ°å…·ä½“çš„ï¼Œé‚£å°±æŠŠè¿™ä¸ªç›®å½•éƒ½åˆ æ‰ï¼‰

ä½†æ˜¯å®ƒè¿‡äº†å‡ ç§’é’Ÿåˆå›æ¥äº†ï¼ç»äº†

æ— å¥ˆä¹‹ä¸‹å»stackOverflowæŸ¥çœ‹ï¼Œå‘ç°åŸæ¥è¢«æŒ–çŸ¿çš„ä¸æ­¢æˆ‘ä¸€ä¸ªï¼ŒæŒ‰ç…§stackOverflowçš„è¯´æ³•ï¼Œcrontabå®šæ—¶å®šæ—¶ä»»åŠ¡æ˜¯æ¯ä¸ªç”¨æˆ·éƒ½å¯ä»¥è¿›è¡Œæäº¤æ‰§è¡Œçš„ï¼Œæˆ‘ä»¬åœ¨/etc/cron.deny ä¸­å…³é—­æŸä¸€ç”¨æˆ·çš„ crontab

![image-20220331100406058](https://cdn.fengxianhub.top/resources-master/202203311004219.png)

æˆ‘æ¥æ‰§è¡Œä¸€ä¸‹ï¼š

å…ˆçœ‹çœ‹é‚£ä¸ªç”¨æˆ·åœ¨åˆ›å»ºcrontab

![image-20220331100827684](https://cdn.fengxianhub.top/resources-master/202203311008784.png)

ç¦æ­¢ä»–åˆ›å»ºcrontabä»»åŠ¡

```java
 vim /etc/cron.deny
```

æŒ‰`i`è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå†™å…¥ç”¨æˆ·rootå†æŒ‰`Esc`å›åˆ°æœ«è¡Œæ¨¡å¼ï¼ŒæŒ‰`shift`+å†’å·`:`å¹¶è¾“å…¥wqï¼Œä¿å­˜å¹¶é€€å‡º

è½½å…¥ä¸€ä¸‹crontabçš„é…ç½®

```shell
/sbin/service crond reload 
```

æ¸…ç†å®šæ—¶ä»»åŠ¡

![image-20220331101130257](https://cdn.fengxianhub.top/resources-master/202203311011319.png)

é²¨æ‰æŒ–çŸ¿è¿›ç¨‹

![image-20220331101200384](https://cdn.fengxianhub.top/resources-master/202203311012429.png)

>ç„¶åè¿˜æ˜¯ä¸€ç‚¹ç”¨éƒ½æ²¡æœ‰ï¼Œæˆ‘æ„Ÿåˆ°å¾ˆå¥‡æ€ªï¼Œä¸ºä»€ä¹ˆç¦æ­¢ä½¿ç”¨crontabäº†è¿˜æ˜¯åˆä¼šäº§ç”Ÿï¼Œéš¾é“è¿™å°±æ˜¯`é—¨ç½—å¸æŒ–çŸ¿æœ¨é©¬`çš„å‰å®³ä¹‹å¤„å˜›

ç»§ç»­æŸ¥é˜…ï¼Œå‘ç°æœ‰ä¸€æ®µè¿™æ ·çš„å›ç­”ï¼š

![image-20220331135337246](https://cdn.fengxianhub.top/resources-master/202203311411377.png)

æœ€ç»ˆè§£å†³ï¼šhttps://blog.csdn.net/weixin_41599103/article/details/115403332?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.vipsorttest&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.vipsorttest



è§£å†³æ–¹æ¡ˆï¼š

æ‰§è¡Œnetstat -ltnpï¼Œå¯ä»¥çœ‹è§ä¸€ä¸ªå¥‡æ€ªçš„è¿›ç¨‹ååœ¨ç›‘å¬52335ç«¯å£ï¼ˆå¿˜è®°æˆªå›¾äº†ï¼Œç«¯å£å¯èƒ½ä¼šä¸ä¸€æ ·ï¼‰ï¼Œå…ˆæŠŠè¿™ä¸ªè¿›ç¨‹killæ‰ï¼Œå†æ‰§è¡Œä¸‹é¢çš„æ­¥éª¤ã€‚

1.  du -b zwmdcgï¼ˆå…¶ä¸­ä¸€ä¸ªæ–‡ä»¶çš„åå­—ï¼‰è·å–åˆ°æ–‡ä»¶çš„å¤§å°ï¼›

2.  find ./ -size  4099324c -type f -exec rm {} \;ï¼›ï¼ˆæŸ¥æ‰¾å¹¶åˆ é™¤æ–‡ä»¶ï¼Œå¯ä»¥å…ˆç”¨<find ./ -size  4099324c -type f>æŸ¥æ‰¾æ–‡ä»¶   {} \;æ˜¯{}+ç©ºæ ¼+ï¼›éƒ½æ˜¯å¿…è¦çš„ï¼Œ4099324æ¢æˆæ–‡ä»¶å®é™…å¤§å°ï¼‰

3. crontab -l æŸ¥çœ‹å®šæ—¶ä»»åŠ¡ï¼Œå¦‚æœè¿˜æœ‰å®šæ—¶ä»»åŠ¡ crontab -råˆ é™¤å®šæ—¶ä»»åŠ¡

4. kill kthreaddiè¿›ç¨‹ã€‚

5. å¦‚æœkthreaddiç»§ç»­é‡å¯ï¼Œåå¤æ‰§è¡Œ2,3,4å³å¯ã€‚

æœ€åæŠŠé˜²ç«å¢™ä»€ä¹ˆçš„éƒ½æ£€æŸ¥ä¸€ä¸‹ï¼Œçœ‹åç»­ä¼šä¸ä¼šå†è¢«é»‘å§ã€‚



















