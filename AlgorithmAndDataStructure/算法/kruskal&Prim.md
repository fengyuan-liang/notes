# 图-最小生成树-Prim(普里姆)算法和Kruskal(克鲁斯卡尔)算法

>最小生成树是指在一个**连通无向带权图**中，找到一个**边的子集**，使得：
>
>1. **所有节点连通**；
>2. **无环**（是一棵树）；
>3. **边的权重之和最小**。
>
>最小生成树常用于解决网络设计问题（如道路铺设、电缆连接、油管铺设等），目标是以最低成本实现全连通。

## 1. 这里有两种经典算法

### 1. **Kruskal算法**（贪心思想，按边选择）

**步骤**：

1. 将所有边按权重从小到大排序。
2. 初始化：每个节点自成一个连通分量（即初始时互不连通）。
3. 依次选择最小的边，若该边的两个端点不在同一连通分量中，则加入生成树，并合并这两个连通分量。
4. 重复直到所有节点连通（共选 `n-1` 条边，`n` 为节点数）。

**关键工具**：
用**并查集（Disjoint Set Union, DSU）**高效判断和合并连通分量。

**时间复杂度**：

- 排序边：`O(E log E)`（`E` 为边数）。
- 并查集操作：近似 `O(α(V))`（`α` 为反阿克曼函数，极小的常数）。
  总复杂度：`O(E log E)`，适合稀疏图（边少）。

------

### 2. **Prim算法**（贪心思想，按节点扩展）

**步骤**：

1. 随机选择一个起始节点（通常选1号节点），加入生成树。
2. 维护一个优先队列（最小堆），存储所有连接**已选节点**和**未选节点**的边，按权重排序。
3. 每次从队列中取权重最小的边，若其连接的节点未加入生成树，则将该节点和边加入生成树，并将该节点的邻边加入队列。
4. 重复直到所有节点加入（共选 `n-1` 条边）。

**关键工具**：
优先队列（如二叉堆）动态选择最小边。

**时间复杂度**：

- 邻接表 + 二叉堆：`O(E log V)`。
- 斐波那契堆优化：`O(E + V log V)`，适合稠密图（边多）。

------

### 对比

| **算法** | **核心思想**     | **适用场景**   | **时间复杂度**   |
| :------- | :--------------- | :------------- | :--------------- |
| Kruskal  | 按边排序，避免环 | 稀疏图（边少） | `O(E log E)`     |
| Prim     | 按节点扩展，贪心 | 稠密图（边多） | `O(E + V log V)` |

## 2. Kruskal

![image-20250506195816585](https://cdn.fengxianhub.top/resources-master/image-20250506195816585.png)

>找不连通的点，选边进行联通

![image-20250506211953791](https://cdn.fengxianhub.top/resources-master/image-20250506211953791.png)

## 3. Prim算法

![image-20250506194744382](https://cdn.fengxianhub.top/resources-master/image-20250506194744382.png)

>**通过找点，每次点亮一个点，然后找边最短的点，进行点亮**

![image-20250506195716358](https://cdn.fengxianhub.top/resources-master/image-20250506195716358.png)











